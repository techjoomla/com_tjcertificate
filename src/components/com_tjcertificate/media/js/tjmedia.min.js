var tjMediaFile={validateFile:function(e){if("file"!=jQuery(e).attr("type"))return!1;jQuery("#system-message-container").empty();var t=jQuery(e)[0].files[0],r=t.type,a=t.name.split("."),i=allowedAttachments.split(","),s=0,n=new Array;return""===a[a.length-1]&&null===a[a.length-1]||-1!=jQuery.inArray(r,i)||(s="1",n.push(Joomla.JText._("COM_TJCERTIFICATE_MEDIA_INVALID_FILE_TYPE"))),t.size>1024*attachmentMaxSize*1024&&(s="1",n.push(Joomla.JText._("COM_TJCERTIFICATE_MEDIA_UPLOAD_ERROR")),console.log("COM_TIMELOG_FILE_SIZE_ERROR")),s?(Joomla.renderMessages({error:n}),jQuery("html, body").animate({scrollTop:0},500),!1):void 0},deleteAttachment:function(e){if(1==confirm(Joomla.JText._("COM_TJCERTIFICATE_CONFIRM_DELETE_ATTACHMENT"))){var t={};if(""==e||void 0===e)return!1;t.certificateId=jQuery(e).attr("data-aid"),t.mediaId=jQuery(e).attr("data-mid"),tjCertificateService.deleteAttachment(t).fail(function(e){var t={error:[e.responseText]};tjCertificateService.renderMessage(t)}).done(function(e){if(!e.success&&e.message){var t={error:[e.message]};tjCertificateService.renderMessage(t)}e.messages&&tjCertificateService.renderMessage(e.messages),e.success&&tjCertificateService.renderMessage(e.message),setTimeout(function(){window.location.reload(1)},2e3)})}}};
