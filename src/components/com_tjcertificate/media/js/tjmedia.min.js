var tjMediaFile={validateFile:function(e){if("file"!=jQuery(e).attr("type"))return!1;jQuery("#system-message-container").empty();var t=jQuery(e)[0].files[0],a=t.type,r=t.name.split("."),s=allowedAttachments.split(","),o=0,i=new Array;return""===r[r.length-1]&&null===r[r.length-1]||-1!=jQuery.inArray(a,s)||(o="1",i.push(Joomla.JText._("COM_TJCERTIFICATE_MEDIA_INVALID_FILE_TYPE"))),t.size>1024*attachmentMaxSize*1024&&(o="1",i.push(Joomla.JText._("COM_TJCERTIFICATE_MEDIA_UPLOAD_ERROR")),console.log("COM_TIMELOG_FILE_SIZE_ERROR")),o?(Joomla.renderMessages({error:i}),jQuery("html, body").animate({scrollTop:0},500),!1):void 0},deleteAttachment:function(e){if(1!=confirm(Joomla.JText._("COM_TJCERTIFICATE_CONFIRM_DELETE_ATTACHMENT")))return!1;var t=jQuery(e).attr("data-aid"),a=jQuery(e).attr("data-mid");jQuery.ajax({url:Joomla.getOptions("system.paths").base+"/index.php?option=com_tjcertificate&task=externalcertificate.deleteAttachment&format=json",data:{certificateId:t,mediaId:a},type:"POST",dataType:"JSON",success:function(e){e.success,tjMediaFile.renderMessage(e.message),setTimeout(function(){window.location.reload(1)},2e3)}})},renderMessage:function(e){Joomla.renderMessages({"alert alert-success":[e]}),jQuery("html, body").animate({scrollTop:0},2e3)}};
