var tjCertificateService={siteRoot:Joomla.getOptions("system.paths").base,loadDefaultTemplateUrl:"/index.php?option=com_tjcertificate&task=template.loadDefaultTemplate&format=json",loadCustomTemplateUrl:"/index.php?option=com_tjcertificate&task=template.loadCustomTemplate&format=json",deleteAttachmentUrl:"/index.php?option=com_tjcertificate&task=externalcertificate.deleteAttachment&format=json",deleteItemUrl:"/index.php?option=com_tjcertificate&task=externalcertificate.delete&format=json",postData:function(e,t,a){return a||(a={}),a.url=this.siteRoot+e,a.data=t,a.type=void 0!==a.type?a.type:"POST",a.async=void 0!==a.async&&a.async,a.dataType=void 0!==a.datatype?a.datatype:"json",a.contentType=void 0!==a.contentType?a.contentType:"application/x-www-form-urlencoded; charset=UTF-8",a.processData=void 0===a.processData||a.processData,jQuery.ajax(a)},loadDefaultTemplate:function(e,t){return this.postData(this.loadDefaultTemplateUrl,e,t)},loadCustomTemplate:function(e,t){return this.postData(this.loadCustomTemplateUrl,e,t)},deleteAttachment:function(e,t){return this.postData(this.deleteAttachmentUrl,e,t)},deleteItem:function(e){if(1==confirm(Joomla.JText._("COM_TJCERTIFICATE_DELETE_CERTIFICATE_MESSAGE"))){var t={};if(""==e||void 0===e)return!1;t.certificateId=e,this.postData(this.deleteItemUrl,t).fail(function(e){var t={error:[e.responseText]};tjCertificateService.renderMessage(t)}).done(function(e){if(!e.success&&e.message){var t={error:[e.message]};tjCertificateService.renderMessage(t)}e.messages&&tjCertificateService.renderMessage(e.messages),e.success&&tjCertificateService.renderMessage(e.message),setTimeout(function(){window.location.reload(1)},2e3)})}},renderMessage:function(e){Joomla.renderMessages({"alert alert-success":[e]}),jQuery("html, body").animate({scrollTop:0},2e3)}};
