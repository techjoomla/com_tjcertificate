var certificateImage={printCertificate:function(e){var t=document.getElementById(e).innerHTML,o=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=o,certificateImage.enableDownloadShareBtns()},enableDownloadShareBtns:function(){jQuery("#download-popover").popover({trigger:"focus",html:!0,content:jQuery("#download-popover-content").html()}),jQuery("#sharing-popover").popover({trigger:"focus",html:!0,content:jQuery("#sharing-popover-content").html()})},uploadImage:function(e){var t=!1,o=jQuery("#certificateId").val();return jQuery.ajax({url:Joomla.getOptions("system.paths").base+"/index.php?option=com_tjcertificate&task=certificate.uploadCertificate",type:"POST",data:{image:e,certificateId:o},success:function(e){t=e}}),t},generateImage:function(e){var t=jQuery("#certificateId").val(),o=Joomla.getOptions("system.paths").base+"/media/com_tjcertificate/certificates/";jQuery("#certificateContent").width(e.offsetWidth).height(e.offsetHeight),html2canvas(e,{scale:2,scrollX:0,scrollY:-window.scrollY,allowTaint:!0}).then(function(e){certificateImage.uploadImage(e.toDataURL("image/png")),jQuery("#downloadImage").attr("href",o+t+".png")})}};