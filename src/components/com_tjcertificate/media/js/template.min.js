var template={previewTemplate:function(e){jQuery(document).on("click",'button[data-target="#templatePreview"]',function(){jQuery("#show-info").hide();var r=jQuery("#"+e);if("undefined"!=typeof tinyMCE)tinyMCE.execCommand("mceToggleEditor",!1,e);else if("undefined"!=typeof CodeMirror){var t=document.querySelector(".CodeMirror").CodeMirror;r.html(t.getValue())}else jQuery("#show-info").show();jQuery("#previewTempl").empty(),jQuery("<style>").html(jQuery("#jform_template_css").val()).appendTo("#previewTempl"),jQuery("<div>").html(r.val()).appendTo("#previewTempl")}),jQuery("#templatePreview").on("hidden.bs.modal",function(){"undefined"!=typeof tinyMCE&&tinyMCE.execCommand("mceToggleEditor",!1,e),jQuery("#previewTempl").empty()})},loadDefaultTemplate:function(e){var r={};if(""==e||void 0===e)return!1;r.defaultTemplate=e,tjCertificateService.loadDefaultTemplate(r).fail(function(e){var r={error:[e.responseText]};Joomla.renderMessages(r)}).done(function(e){if(!e.success&&e.message){var r={error:[e.message]};Joomla.renderMessages(r)}e.messages&&Joomla.renderMessages(e.messages),e.success&&template.renderDefaultTemplate(e,"jform_body")})},renderDefaultTemplate:function(e,r){var t=e.data;if(jQuery("#"+r).empty().val(t),"undefined"!=typeof tinyMCE)tinyMCE.get(r).setContent(t);else if("undefined"!=typeof CodeMirror){document.querySelector(".CodeMirror").CodeMirror.setValue(t)}},loadCustomTemplate:function(e){var r={};if(""==e||void 0===e)return!1;r.templateId=e,tjCertificateService.loadCustomTemplate(r).fail(function(e){var r={error:[e.responseText]};Joomla.renderMessages(r)}).done(function(e){if(!e.success&&e.message){var r={error:[e.message]};Joomla.renderMessages(r)}e.messages&&Joomla.renderMessages(e.messages),e.success&&template.renderDefaultTemplate(e,"jform_generated_body")})}};
